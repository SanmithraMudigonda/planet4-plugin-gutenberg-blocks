{% block take_action_boxout %}
    <script>
        const onBoxoutClick = function(link, new_tab) {
            if (link) {
                return window.open(link, new_tab ? '_blank' : '_self');
            }
        }

        const onTagClick = function(event) {
            event.stopPropagation();
        }
    </script>

    {% if ( boxout ) %}

        {% if ( boxout.image ) %}
            {% set bg_image = 'style="background-image: linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0)), url(\''~boxout.image~'\');"' %}
        {% else %}
            {% set bg_image = '' %}
        {% endif %}
        <section onclick="onBoxoutClick('{{ boxout.link }}', '{{ boxout.new_tab }}')" id="action-card" class="cover-card single-cover dark-card-bg action-card" {{ bg_image|raw }}>
            {% if ( boxout.campaigns ) %}
                {% for campaign in boxout.campaigns %}
                    <a href="{{ campaign.link|default('#') }}" onclick="onTagClick(event)" class="cover-card-tag">#{{ campaign.name|e('wp_kses_post')|raw }}</a>
                {% endfor %}
            {% endif %}
            {% if ( boxout.title ) %}
                <h2 class="cover-card-heading">{{ boxout.title|e('wp_kses_post')|raw }}</h2>
            {% endif %}
            {% if ( boxout.excerpt ) %}
                <p>{{ boxout.excerpt|e('wp_kses_post')|excerpt(25)|raw }}</p>
            {% endif %}
            {% if ( boxout.link ) %}
                <button class="btn btn-action btn-block cover-card-btn">{{ boxout.link_text }}</button>
            {% endif %}
        </section>
    {% endif %}

{% endblock %}
