{% block take_action_boxout %}
    <script>
        const onTagClick = function(event, href) {
            event.preventDefault();
            if (href) {
                return window.open(href, '_self');
            }
        }
    </script>

    {% if ( boxout ) %}

        {% if ( boxout.image ) %}
            {% set bg_image = 'style="background-image: linear-gradient(180deg, rgba(0, 0, 0, 0.3), rgba(0, 0, 0, 0)), url(\''~boxout.image~'\');"' %}
        {% else %}
            {% set bg_image = '' %}
        {% endif %}
        <section id="action-card">
            <a {{ boxout.new_tab and boxout.link ? 'target="_blank"' }} href="{{ boxout.link|default('#') }}" class="cover-card single-cover dark-card-bg action-card" {{ bg_image|raw }}>
                {% if ( boxout.campaigns ) %}
                    {% for campaign in boxout.campaigns %}
                        <div onclick="onTagClick(event, '{{ campaign.link }}')" class="cover-card-tag">#{{ campaign.name|e('wp_kses_post')|raw }}</div>
                    {% endfor %}
                {% endif %}
                {% if ( boxout.title ) %}
                    <h2 class="cover-card-heading {{ boxout.link ? 'clickable' : '' }}">{{ boxout.title|e('wp_kses_post')|raw }}</h2>
                {% endif %}
                {% if ( boxout.excerpt ) %}
                    <p>{{ boxout.excerpt|e('wp_kses_post')|excerpt(25)|raw }}</p>
                {% endif %}
                {% if ( boxout.link and boxout.link_text ) %}
                    <div class="btn btn-action btn-block cover-card-btn">{{ boxout.link_text }}</div>
                {% endif %}
            </a>
        </section>
    {% endif %}

{% endblock %}
